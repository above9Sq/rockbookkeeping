---
import MailIcon from '/src/assets/images/mail.svg';
import { btnHeroSecondary, btnSolidDarkShell, btnOutlineDarkShell } from '~/styles/buttonStyles';

export interface Props {
  label?: string;
  narrow?: boolean;
  class?: string;
  hero?: boolean;
  outline?: boolean;
}

const {
  label = 'Fix my books now',
  narrow = false,
  class: extraClass = '',
  hero = false,
  outline = false,
} = Astro.props;

// HERO: always full width; parent sets max-width (e.g. 340px in hero)
// OTHER: original behavior
const heroWidthClass = 'w-full';
const widthClass =
  hero ? heroWidthClass
  : narrow ? 'w-full sm:w-fit'
  : 'w-full lg:w-fit';

const paddingX = narrow ? 'px-6 sm:px-8' : 'pl-12 pr-10 sm:pl-16 sm:pr-11';

const baseSolid = `${btnSolidDarkShell} ${paddingX} ${widthClass}`;
const baseOutline = `${btnOutlineDarkShell} ${paddingX} ${widthClass}`;
const baseHero = `${btnHeroSecondary} ${widthClass}`;

const baseClasses =
  hero ? baseHero
  : outline ? baseOutline
  : baseSolid;
---

<button
  type="button"
  data-hs-overlay="#contact-modal"
  data-open-modal
  aria-haspopup="dialog"
  aria-controls="contact-modal"
  aria-expanded="false"
  class={`${baseClasses} ${extraClass}`}
>
  <MailIcon class="w-5 h-5 shrink-0" />
  <span>{label}</span>
</button>
