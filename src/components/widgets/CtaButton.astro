---
import MailIcon from '/src/assets/images/mail.svg';
import { buttonClasses, type ButtonVariant } from '~/styles/buttonStyles';

export interface Props {
  label?: string;
  narrow?: boolean;
  class?: string;
  hero?: boolean;
  variant?: ButtonVariant;
  // Legacy: kept for compatibility; prefer `variant`
  outline?: boolean;
}

const {
  label = 'Fix my books now',
  narrow = false,
  class: extraClass = '',
  hero = false,
  variant,
  outline = false,
} = Astro.props;

const resolvedVariant: ButtonVariant =
  variant ??
  (hero ? 'outlineLight' : undefined) ??
  (outline ? 'outline' : undefined) ??
  'dark';

const size = hero ? 'hero' : 'md';
const baseClasses = buttonClasses({
  variant: resolvedVariant,
  size,
  fullWidth: hero,
  narrow,
});
---

<button
  type="button"
  data-hs-overlay="#contact-modal"
  data-open-modal
  aria-haspopup="dialog"
  aria-controls="contact-modal"
  aria-expanded="false"
  class={`${baseClasses} ${extraClass}`}
>
  <MailIcon class="w-5 h-5 shrink-0" />
  <span>{label}</span>
</button>
