---
// src/sections/Pricing.astro
import H2 from '~/components/widgets/H2.astro';
import Container from '~/components/widgets/Container.astro';
import CTAbutton from './CTAbutton.astro';

interface Tier {
  name: string;
  price: string;
  features: string[];
  popular?: boolean;
}

const monthlyTiers: Tier[] = [
  {
    name: 'Essential',
    price: '200',
    features: [
      'Reconcile all accounts',
      'Categorization of all transactions',
      'Monthly P&L and Balance Sheet statements',
    ],
  },
  {
    name: 'Professional',
    price: '1000',
    features: [
      'All Basic',
      'Full A/R & A/P',
      'Cash flow',
    ],
    popular: true,
  },
];

const cleanupTier: Tier = {
  name: 'ONE TIME CLEANUP',
  price: '$1500+',
  features: [
    'Fix messy or behind books',
    'QBO setup if needed',
    'Jump to monthly for maintenance',
  ],
};

const tierStyling = "text-xl lg:text-2xl font-semibold text-gray-900 uppercase";
const priceStyling = "mt-3 text-3xl lg:text-4xl font-black text-gray-900";
---

<section id="pricing" class="bg-[#ECFFF5] py-12 lg:py-22">
  <Container narrow maxWidth="max-w-[93rem]">
    <div class="flex flex-col gap-14 xl:gap-24">
      <!-- Header -->
      <div class="w-auto">
        <H2 align="left">Pricing</H2>
        <p class="mt-4 text-lg text-gray-700 text-left max-w-xl text-balance">
          Transparent. No long-term contracts. First month guarantee.
          Most owners save $10k/yr and 15 hours per month. 
          Buy back your time and peace of mind.
        </p>
      </div>

      <!-- Monthly Tiers (2-column on lg) -->
      <div class="flex flex-col lg:flex-row gap-14 xl:gap-24 items-stretch">
        {monthlyTiers.map((tier) => (
          <div
            class={"relative flex-1 bg-white border border-gray-800 rounded-lg p-8 lg:p-10 flex flex-col min-w-0"}
          >
            <!-- Popular Badge -->
            {tier.popular && (
              <div class="absolute -top-4 left-1/2 -translate-x-1/2">
                <span class="inline-flex items-center gap-1 bg-[#cff2dc] text-[#265A2D] border border-[#265A2D] text-sm font-bold px-4 py-1.5 rounded-md uppercase">
                  <span class="text-orange-300">ðŸ”¥</span> Most popular
                </span>
              </div>
            )}

            <div class="text-left mb-6">
              <h3 class={tierStyling}>{tier.name}</h3>
              <p class={priceStyling}>${tier.price}<span class="text-lg lg:text-xl font-normal">+ per month</span></p>
            </div>

            <ul class="space-y-3 flex-grow">
              {tier.features.map((feature) => (
                <li class="flex items-left lg:items-center gap-3">
                    <p>âœ…</p>
                    <p>{feature}</p>
                </li>
              ))}
            </ul>
          </div>
        ))}
      </div>

        <div
            class="bg-white border border-gray-800 rounded-lg p-8 lg:p-10 flex flex-col items-left lg:items-center"
        >
            <div class="items-left lg:items-center mb-6">
            <h3 class={tierStyling}>{cleanupTier.name}</h3>
            <p class={priceStyling}>{cleanupTier.price}</p>
            </div>

            <ul class="space-y-3 w-fit">
            {cleanupTier.features.map((feature) => (
                <li class="flex items-left lg:items-center gap-3">
                <p>âœ…</p>
                <p>{feature}</p>
                </li>
            ))}
            </ul>
        </div>
      
      <div class="flex flex-col lg:flex-row bg-white rounded-2xl p-8 lg:p-10 border border-gray-800 text-center">
        <div class="flex-1 mb-6 lg:mb-0 text-center lg:text-left">
          <h3 class="text-2xl lg:text-3xl font-black text-gray-900 mb-2">
            Ready For Your Free Audit?
          </h3>
        </div>
        <div>
          <CTAbutton />
        </div>
      </div>
    </div>
  </Container>
</section>