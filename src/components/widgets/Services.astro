---
import H2 from '~/components/widgets/H2.astro';
import Container from '~/components/widgets/Container.astro';
import FeatureItem from '~/components/widgets/FeatureItem.astro';

interface Props {
  bgColor?: string;
}

const { bgColor = '#FBFCFC' } = Astro.props;

interface Service {
  title: string;
  subtitle: string;
  features: string[];
  badgeLabel: string;
  link: {
    label: string;
    href?: string;
  };
}

const services: Service[] = [
  {
    title: 'Monthly bookkeeping',
    subtitle:
      'Stay on top of your finances with a reliable monthly process that keeps your books accurate and tax-ready.',
    features: [
      'Bank & credit cards reconciled monthly',
      'Financial statements delivered within 15 days',
      'Smart rules for automated categorization',
      'Responsive email and phone support for quick money questions',
    ],
    badgeLabel: 'Monthly',
    link: {
      label: 'Learn more',
    },
  },
  {
    title: 'Cleanup or Catch-up',
    subtitle:
      'Behind on your books? We fix and organize everything fast so you can file taxes, have clarity, and peace of mind about your finances.',
    features: [
      'Fix months or years of records',
      'Use advanced tools to import statements',
      'Every transaction reviewed and correct',
      'Tax-ready handoff for your CPA',
    ],
    badgeLabel: 'One-time project',
    link: {
      label: 'Learn more',
      href: '/quickbooks-cleanup',
    },
  },
];
---

<section id="services" class="py-14 sm:py-20 lg:py-24" style={`background-color: ${bgColor}`}>
  <Container narrow maxWidth="max-w-[93rem]">
    <div class="flex flex-col gap-6 md:gap-14">
      <!-- Section header -->
      <div class="w-full max-w-2xl">
        <H2 align="left">Our Bookkeeping Services</H2>
        <p class="mt-3 sm:mt-4 text-base sm:text-lg text-gray-700 text-left">
          Pick the help you need. Want to be more hands-on, or let us do it all? We can help either way.
        </p>
      </div>

      <!-- Cards -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-10 xl:gap-16 w-full">
        {
          services.map((service) => (
            <article class="flex flex-col bg-white rounded-xl p-7 sm:p-8 lg:p-10 shadow-[0_2px_12px_rgba(0,0,0,0.06)]">
              <div
                class="flex flex-col sm:flex-row sm:items-start sm:justify-between
                       gap-2 sm:gap-4 mb-4 sm:mb-5"
              >
                <h3 class="text-lg sm:text-2xl lg:text-[1.45rem] font-bold text-gray-900">{service.title}</h3>

                <span
                  class="inline-flex self-start items-center rounded-full border border-blue-100 bg-blue-50
                         px-2.5 py-0.5 text-[0.6rem] sm:px-3 sm:py-1 sm:text-[0.65rem]
                         font-semibold uppercase tracking-[0.14em] text-blue-700 whitespace-nowrap"
                >
                  {service.badgeLabel}
                </span>
              </div>

              <p class="text-sm sm:text-base text-gray-700 mb-5 sm:mb-6">{service.subtitle}</p>

              <div class="mt-auto space-y-5">
                <ul class="space-y-3">
                  {service.features.map((feature) => (
                    <FeatureItem feature={feature} />
                  ))}
                </ul>

                <div class="flex justify-end">
                  {service.link.href ? (
                    <a
                      href={service.link.href}
                      class="inline-flex items-center gap-1 text-blue-600 font-semibold hover:text-blue-900"
                    >
                      {service.link.label}
                      <span aria-hidden="true">&rarr;</span>
                    </a>
                  ) : (
                    <span class="inline-flex items-center gap-1 text-blue-600 font-semibold">
                      {service.link.label}
                      <span aria-hidden="true">&rarr;</span>
                    </span>
                  )}
                </div>
              </div>
            </article>
          ))
        }
      </div>

      <!-- Section CTA (intentionally omitted for now) -->
    </div>
  </Container>
</section>
